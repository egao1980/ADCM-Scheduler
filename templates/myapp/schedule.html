{% extends "myapp/beta_base.html" %}
{% load static %}
{% block content %}


<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
{#  <script>#}
{#    let YOUR_JS_LIST = {{json_list|safe}};#}
{#    console.log(YOUR_JS_LIST)#}
{#  </script>#}

  <script type="text/javascript">
    let YOUR_JS_LIST = {{json_list|safe}};
    google.charts.load('current', {'packages':['gantt']});
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {

      var data = new google.visualization.DataTable();
      data.addColumn('string', 'Task ID');
      data.addColumn('string', 'Task Name');
      data.addColumn('string', 'Resource');
      data.addColumn('date', 'Start Date');
      data.addColumn('date', 'End Date');
      data.addColumn('number', 'Duration');
      data.addColumn('number', 'Percent Complete');
      data.addColumn('string', 'Dependencies');

      {#data.addRows([#}
      {#  ['2014Spring', 'Spring 2014', 'spring',#}
      {#   new Date(2014, 2, 22), new Date(2014, 5, 20), null, 100, null],#}
      {#  ['2014Summer', 'Summer 2014', 'summer',#}
      {#   new Date(2014, 5, 21), new Date(2014, 8, 20), null, 100, null],#}
      {#  ['2014Autumn', 'Autumn 2014', 'autumn',#}
      {#   new Date(2014, 8, 21), new Date(2014, 11, 20), null, 100, null],#}
      {#  ['2014Winter', 'Winter 2014', 'winter',#}
      {#   new Date(2014, 11, 21), new Date(2015, 2, 21), null, 100, null],#}
      {#  ['2015Spring', 'Spring 2015', 'spring',#}
      {#   new Date(2015, 2, 22), new Date(2015, 5, 20), null, 50, null],#}
      {#  ['2015Summer', 'Summer 2015', 'summer',#}
      {#   new Date(2015, 5, 21), new Date(2015, 8, 20), null, 0, null],#}
      {#  ['2015Autumn', 'Autumn 2015', 'autumn',#}
      {#   new Date(2015, 8, 21), new Date(2015, 11, 20), null, 0, null],#}
      {#  ['2015Winter', 'Winter 2015', 'winter',#}
      {#   new Date(2015, 11, 21), new Date(2016, 2, 21), null, 0, null],#}
      {#  ['Football', 'Football Season', 'sports',#}
      {#   new Date(2014, 8, 4), new Date(2015, 1, 1), null, 100, null],#}
      {#  ['Baseball', 'Baseball Season', 'sports',#}
      {#   new Date(2015, 2, 31), new Date(2015, 9, 20), null, 14, null],#}
      {#  ['Basketball', 'Basketball Season', 'sports',#}
      {#   new Date(2014, 9, 28), new Date(2015, 5, 20), null, 86, null],#}
      {#  ['Hockey', 'Hockey Season', 'sports',#}
      {#   new Date(2014, 9, 8), new Date(2015, 5, 21), null, 89, null]#}
      {#]);#}
      {#  let i = 0;#}
      {#  for(let i = 0; i<YOUR_JS_LIST[0].length; i++){#}
      {##}
      {##}
      {#      console.log(YOUR_JS_LIST[0][i]);#}
      {#  }#}

        {#data.addRows([[YOUR_JS_LIST[i][0], YOUR_JS_LIST[i][1], YOUR_JS_LIST[i][2], new Date(YOUR_JS_LIST[i][3], YOUR_JS_LIST[i][4], YOUR_JS_LIST[i][5]),#}
        {#    new Date(YOUR_JS_LIST[i][6], YOUR_JS_LIST[i][7], YOUR_JS_LIST[i][8]), null, 50, null]])#}


      for(let i = 0; i<YOUR_JS_LIST.length; i++){

            console.log(YOUR_JS_LIST[i]);

            data.addRow([YOUR_JS_LIST[i][0], YOUR_JS_LIST[i][1], YOUR_JS_LIST[i][2],
                new Date(i, 8, 1),
                new Date(i+1, 8, 1),

                null, 50,
                {#YOUR_JS_LIST[i][11]#}
                YOUR_JS_LIST[i][11]]);
            console.log(YOUR_JS_LIST[i][11])

          {#if (i===0){#}
          {#  data.addRow([YOUR_JS_LIST[i][0], YOUR_JS_LIST[i][1], null, new Date(YOUR_JS_LIST[i][3], YOUR_JS_LIST[i][4], YOUR_JS_LIST[i][5]),#}
          {#  new Date(YOUR_JS_LIST[i][6], YOUR_JS_LIST[i][7], YOUR_JS_LIST[i][8]), null, 50, YOUR_JS_LIST[i][12]])}#}
          {#  else {#}
          {#    data.addRow([YOUR_JS_LIST[i][0], YOUR_JS_LIST[i][1], YOUR_JS_LIST[i][2],#}
          {#        new Date(YOUR_JS_LIST[i][3], YOUR_JS_LIST[i][4], YOUR_JS_LIST[i][5]),#}
          {#        new Date(YOUR_JS_LIST[i][6], YOUR_JS_LIST[i][7], YOUR_JS_LIST[i][8]),#}
          {#        null, 50, YOUR_JS_LIST[i][12]])#}



            console.log(i);
        }

        console.log(data)

      {#  function daysToMilliseconds(days) {#}
      {#      return days * 24 * 60 * 60 * 1000;#}
      {#  }#}
      {#  data.addRows([#}
      {#  ['Research', 'Find sources', null,#}
      {#   new Date(2015, 0, 1), new Date(2015, 0, 5), null,  100,  null],#}
      {#  ['Write', 'Write paper', 'write',#}
      {#   null, new Date(2015, 0, 9), daysToMilliseconds(3), 25, 'Research,Outline'],#}
      {#  ['Cite', 'Create bibliography', 'write',#}
      {#   null, new Date(2015, 0, 7), daysToMilliseconds(1), 20, 'Research'],#}
      {#  ['Complete', 'Hand in paper', 'complete',#}
      {#   null, new Date(2015, 0, 10), daysToMilliseconds(1), 0, 'Cite,Write'],#}
      {#  ['Outline', 'Outline paper', 'write',#}
      {#   null, new Date(2015, 0, 6), daysToMilliseconds(1), 100, 'Research']#}
      {#]);#}

      var options = {
        height: 400,
        gantt: {
          trackHeight: 30
        }
      };

      var chart = new google.visualization.Gantt(document.getElementById('chart_div'));

      chart.draw(data, options);
    }
  </script>




<div id="chart_div"></div>



{% endblock %}